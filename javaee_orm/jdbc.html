

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="fr" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="fr" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Accès aux bases de données : JDBC &mdash; Documentation U&#39;Dev 2018 </title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script type="text/javascript" src="../_static/translations.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/custom_rtd_theme.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Recherche" href="../search.html" />
    <link rel="next" title="JDBC dans une application Web" href="jdbc_webapp.html" />
    <link rel="prev" title="Swing : notions avancées" href="../java_swing/swing_notions_avancees.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> U'Dev 2018
          

          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Recherche dans les pages" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">L'algèbre de Boole</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../algebre_boole/algebre_boole.html">L’algèbre de Boole</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../algebre_boole/algebre_boole.html#definition">Définition</a></li>
<li class="toctree-l2"><a class="reference internal" href="../algebre_boole/algebre_boole.html#algebre-de-boole-et-connecteurs-logiques">Algèbre de Boole et connecteurs logiques</a></li>
<li class="toctree-l2"><a class="reference internal" href="../algebre_boole/algebre_boole.html#proprietes">Propriétés</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../algebre_boole/algebre_boole.html#l-involution">L’involution</a></li>
<li class="toctree-l3"><a class="reference internal" href="../algebre_boole/algebre_boole.html#l-idempotence">L’idempotence</a></li>
<li class="toctree-l3"><a class="reference internal" href="../algebre_boole/algebre_boole.html#les-elements-absorbants">Les éléments absorbants</a></li>
<li class="toctree-l3"><a class="reference internal" href="../algebre_boole/algebre_boole.html#les-lois-de-de-morgan">Les lois de De Morgan</a></li>
<li class="toctree-l3"><a class="reference internal" href="../algebre_boole/algebre_boole.html#l-optimisation">L’optimisation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../algebre_boole/algebre_boole.html#les-fonctions-logiques">Les fonctions logiques</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../algebre_boole/algebre_boole.html#la-fonction-de-conjonction">La fonction de conjonction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../algebre_boole/algebre_boole.html#la-fonction-de-disjonction">La fonction de disjonction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../algebre_boole/algebre_boole.html#la-fonction-de-negation">La fonction de négation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../algebre_boole/algebre_boole.html#formes-canoniques">Formes canoniques</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../algebre_boole/algebre_boole.html#forme-normale-disjonctive">Forme normale disjonctive</a></li>
<li class="toctree-l3"><a class="reference internal" href="../algebre_boole/algebre_boole.html#forme-normale-conjonctive">Forme normale conjonctive</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../algebre_boole/algebre_boole.html#simplification">Simplification</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../algebre_boole/representation_simplification.html">Représentation et simplification d’une fonction booléenne</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../algebre_boole/representation_simplification.html#table-de-verite">Table de vérité</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../algebre_boole/representation_simplification.html#table-de-verite-pour-la-fonction-et">Table de vérité pour la fonction ET</a></li>
<li class="toctree-l3"><a class="reference internal" href="../algebre_boole/representation_simplification.html#table-de-verite-pour-la-fonction-ou">Table de vérité pour la fonction OU</a></li>
<li class="toctree-l3"><a class="reference internal" href="../algebre_boole/representation_simplification.html#table-de-verite-pour-la-fonction-non">Table de vérité pour la fonction NON</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../algebre_boole/representation_simplification.html#passage-d-une-fonction-logique-a-une-table-de-verite">Passage d’une fonction logique à une table de vérité</a></li>
<li class="toctree-l2"><a class="reference internal" href="../algebre_boole/representation_simplification.html#passage-d-une-table-de-verite-a-une-fonction-logique">Passage d’une table de vérité à une fonction logique</a></li>
<li class="toctree-l2"><a class="reference internal" href="../algebre_boole/representation_simplification.html#les-tables-de-karnaugh">Les tables de Karnaugh</a></li>
<li class="toctree-l2"><a class="reference internal" href="../algebre_boole/representation_simplification.html#simplification-a-l-aide-d-une-table-de-karnaugh">Simplification à l’aide d’une table de Karnaugh</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Le langage Java</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../langage_java/introduction.html">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/introduction.html#l-environnement">L’environnement</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/introduction.html#oracle-jdk-et-open-jdk">Oracle JDK et Open JDK</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/introduction.html#un-bref-historique-des-versions">Un bref historique des versions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../langage_java/installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/installation.html#configuration-d-eclipse">Configuration d’Eclipse</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../langage_java/compilation.html">Compilation &amp; exécution</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/compilation.html#un-premier-programme">Un premier programme</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/compilation.html#la-compilation">La compilation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/compilation.html#l-execution">L’exécution</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/compilation.html#la-liaison-dynamique">La liaison dynamique</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/compilation.html#le-classpath">Le classpath</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/compilation.html#bibliotheques-java-les-fichiers-jar">Bibliothèques Java : les fichiers JAR</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/compilation.html#creation-d-un-projet-dans-eclipse">Création d’un projet dans Eclipse</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/compilation.html#exercice">Exercice</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../langage_java/structure_fondamentale.html">La structure fondamentale du langage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/structure_fondamentale.html#les-instructions">Les instructions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/structure_fondamentale.html#le-typage">Le typage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/structure_fondamentale.html#les-blocs-de-code">Les blocs de code</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/structure_fondamentale.html#les-commentaires">Les commentaires</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/structure_fondamentale.html#le-formatage-du-code">Le formatage du code</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/structure_fondamentale.html#les-conventions-de-nommage">Les conventions de nommage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/structure_fondamentale.html#les-mots-cles">Les mots-clés</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../langage_java/premiere_classe.html">Une première classe</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/premiere_classe.html#declarer-une-classe">Déclarer une classe</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/premiere_classe.html#anatomie-d-une-classe">Anatomie d’une classe</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/premiere_classe.html#ajouter-des-methodes">Ajouter des méthodes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/premiere_classe.html#la-methode-main">La méthode main</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/premiere_classe.html#executer-le-programme-en-ligne-de-commandes">Exécuter le programme en ligne de commandes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/premiere_classe.html#executer-le-programme-depuis-eclipse">Exécuter le programme depuis Eclipse</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/premiere_classe.html#exercices">Exercices</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../langage_java/types_primitifs.html">Les types primitifs</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/types_primitifs.html#le-type-booleen-boolean">Le type booléen : boolean</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/types_primitifs.html#le-type-caractere-char">Le type caractère : char</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/types_primitifs.html#les-types-entiers-byte-short-int-long">Les types entiers : byte, short, int, long</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/types_primitifs.html#les-types-a-virgule-flottante-float-double">Les types à virgule flottante : float, double</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/types_primitifs.html#les-classes-enveloppes">Les classes enveloppes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/types_primitifs.html#l-autoboxing">L’autoboxing</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../langage_java/operateurs.html">Les opérateurs</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/operateurs.html#l-operateur-d-affectation">L’opérateur d’affectation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/operateurs.html#les-operateurs-arithmetiques">Les opérateurs arithmétiques</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/operateurs.html#les-operateurs-arithmetiques-unaires">Les opérateurs arithmétiques unaires</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/operateurs.html#l-operateur-de-concatenation-de-chaines">L’opérateur de concaténation de chaînes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/operateurs.html#les-operateurs-relationnels">Les opérateurs relationnels</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/operateurs.html#les-operateurs-logiques">Les opérateurs logiques</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/operateurs.html#l-operateur-ternaire">L’opérateur ternaire</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/operateurs.html#les-operateurs-bitwise">Les opérateurs <em>bitwise</em></a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/operateurs.html#les-operateurs-de-decalage">Les opérateurs de décalage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/operateurs.html#le-transtypage-cast">Le transtypage (cast)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/operateurs.html#operateur-et-assignation">Opérateur et assignation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/operateurs.html#l-operateur">L’opérateur .</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/operateurs.html#id1">L’opérateur ,</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/operateurs.html#exercice">Exercice</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../langage_java/structures_de_controle.html">Les structures de contrôle</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/structures_de_controle.html#if-else">if-else</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/structures_de_controle.html#return">return</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/structures_de_controle.html#while">while</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/structures_de_controle.html#do-while">do-while</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/structures_de_controle.html#for">for</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/structures_de_controle.html#for-ameliore">for amélioré</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/structures_de_controle.html#break-continue">break-continue</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/structures_de_controle.html#libelle">libellé</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/structures_de_controle.html#switch">switch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/structures_de_controle.html#exercices">Exercices</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../langage_java/tableau.html">Les tableaux</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/tableau.html#initialisation">Initialisation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/tableau.html#creation-avec-new">Création avec new</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/tableau.html#acces-aux-elements-d-un-tableau">Accès aux éléments d’un tableau</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/tableau.html#tableau-multi-dimensionnel">Tableau multi-dimensionnel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/tableau.html#conversion-en-chaine-de-caracteres">Conversion en chaîne de caractères</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/tableau.html#egalite-de-deux-tableaux">Égalité de deux tableaux</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/tableau.html#tri-recherche">Tri &amp; recherche</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/tableau.html#copie-d-un-tableau">Copie d’un tableau</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/tableau.html#typage-d-un-tableau">Typage d’un tableau</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/tableau.html#conversion-d-un-tableau-en-liste">Conversion d’un tableau en liste</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../langage_java/attributs_et_methodes.html">Attributs &amp; méthodes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/attributs_et_methodes.html#les-attributs">Les attributs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../langage_java/attributs_et_methodes.html#la-portee">La portée</a></li>
<li class="toctree-l3"><a class="reference internal" href="../langage_java/attributs_et_methodes.html#l-initialisation">L’initialisation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../langage_java/attributs_et_methodes.html#attributs-finaux">attributs finaux</a></li>
<li class="toctree-l3"><a class="reference internal" href="../langage_java/attributs_et_methodes.html#attributs-de-classe">Attributs de classe</a></li>
<li class="toctree-l3"><a class="reference internal" href="../langage_java/attributs_et_methodes.html#attributs-de-classe-finaux">Attributs de classe finaux</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/attributs_et_methodes.html#les-methodes">Les méthodes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../langage_java/attributs_et_methodes.html#id1">La portée</a></li>
<li class="toctree-l3"><a class="reference internal" href="../langage_java/attributs_et_methodes.html#la-valeur-de-retour">La valeur de retour</a></li>
<li class="toctree-l3"><a class="reference internal" href="../langage_java/attributs_et_methodes.html#les-parametres">Les paramètres</a></li>
<li class="toctree-l3"><a class="reference internal" href="../langage_java/attributs_et_methodes.html#parametre-final">Paramètre final</a></li>
<li class="toctree-l3"><a class="reference internal" href="../langage_java/attributs_et_methodes.html#les-variables">Les variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../langage_java/attributs_et_methodes.html#methodes-de-classe">Méthodes de classe</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/attributs_et_methodes.html#surcharge-de-methode-overloading">Surcharge de méthode : overloading</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/attributs_et_methodes.html#portee-des-noms-et-this">Portée des noms et this</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/attributs_et_methodes.html#principe-d-encapsulation">Principe d’encapsulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/attributs_et_methodes.html#exercice">Exercice</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../langage_java/cycle_de_vie.html">Cycle de vie d’un objet</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/cycle_de_vie.html#le-constructeur">Le constructeur</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../langage_java/cycle_de_vie.html#parametres-de-constructeur">Paramètres de constructeur</a></li>
<li class="toctree-l3"><a class="reference internal" href="../langage_java/cycle_de_vie.html#valeur-par-defaut-des-attributs">Valeur par défaut des attributs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../langage_java/cycle_de_vie.html#constructeur-par-defaut">Constructeur par défaut</a></li>
<li class="toctree-l3"><a class="reference internal" href="../langage_java/cycle_de_vie.html#constructeur-prive">Constructeur privé</a></li>
<li class="toctree-l3"><a class="reference internal" href="../langage_java/cycle_de_vie.html#appel-d-un-constructeur-dans-un-constructeur">Appel d’un constructeur dans un constructeur</a></li>
<li class="toctree-l3"><a class="reference internal" href="../langage_java/cycle_de_vie.html#appel-d-une-methode-dans-un-constructeur">Appel d’une méthode dans un constructeur</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/cycle_de_vie.html#injection-de-dependances-par-le-constructeur">Injection de dépendances par le constructeur</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/cycle_de_vie.html#le-bloc-d-initialisation">Le bloc d’initialisation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/cycle_de_vie.html#le-bloc-d-initialisation-de-classe">Le bloc d’initialisation de classe</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/cycle_de_vie.html#exercice">Exercice</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/cycle_de_vie.html#memoire-heap-et-stack">Mémoire heap et stack</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/cycle_de_vie.html#le-ramasse-miettes">Le ramasse-miettes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/cycle_de_vie.html#la-methode-finalize">La méthode finalize</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../langage_java/package.html">Les packages</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/package.html#declaration-d-un-package">Déclaration d’un package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/package.html#sous-package">Sous package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/package.html#nom-d-un-package">Nom d’un package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/package.html#nom-complet-d-une-classe">Nom complet d’une classe</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/package.html#import-de-noms">Import de noms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/package.html#la-portee-de-niveau-package">La portée de niveau package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/package.html#le-fichier-package-info-java">Le fichier package-info.java</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../langage_java/heritage_composition.html">Héritage et composition</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/heritage_composition.html#l-heritage-is-a">L’héritage (is-a)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/heritage_composition.html#heritage-et-constructeur">Héritage et constructeur</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/heritage_composition.html#heritage-simple-object">Héritage simple : Object</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/heritage_composition.html#heritage-et-affectation">Héritage et affectation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/heritage_composition.html#le-mot-cle-instanceof">Le mot-clé instanceof</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/heritage_composition.html#la-portee-protected">La portée protected</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/heritage_composition.html#heritage-des-methodes-et-attributs-de-classe">Héritage des méthodes et attributs de classe</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/heritage_composition.html#heritage-et-final">Héritage et final</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/heritage_composition.html#la-composition-has-a">La composition (has-a)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../langage_java/polymorphisme.html">Le polymorphisme</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/polymorphisme.html#principe-du-polymorphisme">Principe du polymorphisme</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/polymorphisme.html#une-exception-les-methodes-privees">Une exception : les méthodes privées</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/polymorphisme.html#redefinition-et-signature-de-methode">Redéfinition et signature de méthode</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/polymorphisme.html#le-mot-cle-super">Le mot-clé super</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/polymorphisme.html#l-annotation-override">L’annotation &#64;Override</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/polymorphisme.html#les-methodes-de-classe">Les méthodes de classe</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/polymorphisme.html#methode-finale">Méthode finale</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/polymorphisme.html#constructeur-et-polymorphisme">Constructeur et polymorphisme</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/polymorphisme.html#masquage-des-attributs-par-heritage">Masquage des attributs par héritage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/polymorphisme.html#le-principe-du-ouvert-ferme">Le principe du ouvert/fermé</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../langage_java/classe_abstraite.html">Les classes abstraites</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/classe_abstraite.html#declarer-une-classe-abstraite">Déclarer une classe abstraite</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/classe_abstraite.html#declarer-une-methode-abstraite">Déclarer une méthode abstraite</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../langage_java/la_classe_object.html">La classe Object</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/la_classe_object.html#la-methode-equals">La méthode equals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/la_classe_object.html#la-methode-hashcode">La méthode hashCode</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/la_classe_object.html#la-methode-tostring">La méthode toString</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/la_classe_object.html#la-methode-finalize">La méthode finalize</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/la_classe_object.html#la-methode-clone">La méthode clone</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/la_classe_object.html#la-methode-getclass">La méthode getClass</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/la_classe_object.html#les-methodes-de-concurrence">Les méthodes de concurrence</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../langage_java/la_classe_string.html">La classe String</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/la_classe_string.html#string-et-tableau-de-caracteres">String et tableau de caractères</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/la_classe_string.html#quelques-methodes-utilitaires">Quelques méthodes utilitaires</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/la_classe_string.html#construction-d-une-instance-de-string">Construction d’une instance de String</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/la_classe_string.html#immutabilite-des-chaines-de-caracteres">Immutabilité des chaînes de caractères</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/la_classe_string.html#la-classe-stringbuilder">La classe StringBuilder</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/la_classe_string.html#formatage-de-texte">Formatage de texte</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/la_classe_string.html#les-expressions-regulieres">Les expressions régulières</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../langage_java/les_exceptions.html">Les exceptions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/les_exceptions.html#qu-est-ce-qu-une-exception">Qu’est-ce qu’une exception ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/les_exceptions.html#signaler-une-exception">Signaler une exception</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/les_exceptions.html#traiter-une-exception">Traiter une exception</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/les_exceptions.html#propagation-d-une-exception">Propagation d’une exception</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/les_exceptions.html#exceptions-et-polymorphisme">Exceptions et polymorphisme</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/les_exceptions.html#le-bloc-finally">Le bloc finally</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/les_exceptions.html#le-try-with-resources">Le try-with-resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/les_exceptions.html#hierarchie-applicative-d-exception">Hiérarchie applicative d’exception</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/les_exceptions.html#exception-cause">Exception cause</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/les_exceptions.html#les-erreurs-et-les-exceptions-runtime">Les erreurs et les exceptions runtime</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/les_exceptions.html#choix-entre-checked-et-unchecked">Choix entre checked et unchecked</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../langage_java/enumeration.html">Les énumérations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/enumeration.html#les-methodes-d-une-enumeration">Les méthodes d’une énumération</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/enumeration.html#egalite-entre-enumerations">Égalité entre énumérations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/enumeration.html#support-de-switch">Support de switch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/enumeration.html#generation-d-une-enumeration">Génération d’une énumération</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/enumeration.html#ajout-de-methodes-et-d-attributs">Ajout de méthodes et d’attributs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/enumeration.html#ajout-de-constructeurs">Ajout de constructeurs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../langage_java/interface.html">Les interfaces</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/interface.html#declaration-d-une-interface">Déclaration d’une interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/interface.html#implementation-d-une-interface">Implémentation d’une interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/interface.html#attributs-et-methodes-statiques">Attributs et méthodes statiques</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/interface.html#heritage-d-interface">Héritage d’interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/interface.html#les-interfaces-marqueurs">Les interfaces marqueurs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/interface.html#implementation-par-defaut">Implémentation par défaut</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/interface.html#la-segregation-d-interface">La ségrégation d’interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/interface.html#l-inversion-de-dependance">L’inversion de dépendance</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../langage_java/generiques.html">Méthodes et classes génériques</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/generiques.html#l-exemple-de-la-classe-arraylist">L’exemple de la classe ArrayList</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/generiques.html#creation-et-assignation-d-une-classe-generique">Création et assignation d’une classe générique</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/generiques.html#notation-en-diamant">Notation en diamant</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/generiques.html#substitution-et-type-generique">Substitution et type générique</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/generiques.html#ecrire-une-methode-generique">Écrire une méthode générique</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/generiques.html#ecrire-une-classe-generique">Écrire une classe générique</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/generiques.html#limitations">Limitations</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../langage_java/les_collections.html">Les collections</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/les_collections.html#les-listes">Les listes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../langage_java/les_collections.html#la-classe-arraylist">La classe ArrayList</a></li>
<li class="toctree-l3"><a class="reference internal" href="../langage_java/les_collections.html#la-classe-linkedlist">La classe LinkedList</a></li>
<li class="toctree-l3"><a class="reference internal" href="../langage_java/les_collections.html#la-classe-arraydeque">La classe ArrayDeque</a></li>
<li class="toctree-l3"><a class="reference internal" href="../langage_java/les_collections.html#la-classe-priorityqueue">La classe PriorityQueue</a></li>
<li class="toctree-l3"><a class="reference internal" href="../langage_java/les_collections.html#les-classes-vector-et-stack">Les classes Vector et Stack</a></li>
<li class="toctree-l3"><a class="reference internal" href="../langage_java/les_collections.html#les-interfaces-pour-les-listes">Les interfaces pour les listes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/les_collections.html#les-ensembles-set">Les ensembles (set)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../langage_java/les_collections.html#la-classe-treeset">La classe TreeSet</a></li>
<li class="toctree-l3"><a class="reference internal" href="../langage_java/les_collections.html#la-classe-hashset">La classe HashSet</a></li>
<li class="toctree-l3"><a class="reference internal" href="../langage_java/les_collections.html#la-classe-linkedhashset">La classe LinkedHashSet</a></li>
<li class="toctree-l3"><a class="reference internal" href="../langage_java/les_collections.html#les-interfaces-pour-les-ensembles">Les interfaces pour les ensembles</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/les_collections.html#copie-d-une-collection-dans-un-tableau">Copie d’une collection dans un tableau</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/les_collections.html#les-tableaux-associatifs-maps">Les tableaux associatifs (maps)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../langage_java/les_collections.html#la-classe-treemap">La classe TreeMap</a></li>
<li class="toctree-l3"><a class="reference internal" href="../langage_java/les_collections.html#la-classe-hashmap">La classe HashMap</a></li>
<li class="toctree-l3"><a class="reference internal" href="../langage_java/les_collections.html#la-classe-linkedhashmap">La classe LinkedHashMap</a></li>
<li class="toctree-l3"><a class="reference internal" href="../langage_java/les_collections.html#les-classes-dictionary-et-hashtable">Les classes Dictionary et Hashtable</a></li>
<li class="toctree-l3"><a class="reference internal" href="../langage_java/les_collections.html#les-interfaces-pour-les-tableaux-associatifs">Les interfaces pour les tableaux associatifs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/les_collections.html#la-classe-outil-collections">La classe outil Collections</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../langage_java/entrees_sorties.html">Les entrées/sorties</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/entrees_sorties.html#inputstream-et-classes-concretes">InputStream et classes concrètes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/entrees_sorties.html#outputstream-et-classes-concretes">OutputStream et classes concrètes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/entrees_sorties.html#flux-orientes-caracteres">Flux orientés caractères</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/entrees_sorties.html#reader-et-classes-concretes">Reader et classes concrètes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/entrees_sorties.html#writer-et-classes-concretes">Writer et classes concrètes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/entrees_sorties.html#les-decorateurs-de-flux">Les décorateurs de flux</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/entrees_sorties.html#la-classe-scanner">La classe Scanner</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/entrees_sorties.html#fichiers-et-chemins">Fichiers et chemins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/entrees_sorties.html#acces-au-reseau">Accès au réseau</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/entrees_sorties.html#la-serialisation-d-objets">La sérialisation d’objets</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../langage_java/entrees_sorties.html#donnee-transient">Donnée transient</a></li>
<li class="toctree-l3"><a class="reference internal" href="../langage_java/entrees_sorties.html#identifiant-de-version-de-serialisation">Identifiant de version de sérialisation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../langage_java/les_dates.html">Les dates</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/les_dates.html#date-la-classe-historique">Date : la classe historique</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/les_dates.html#calendar">Calendar</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/les_dates.html#l-api-date-time">L’API Date/Time</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../langage_java/les_dates.html#id1">Les Dates</a></li>
<li class="toctree-l3"><a class="reference internal" href="../langage_java/les_dates.html#la-classe-instant">La classe Instant</a></li>
<li class="toctree-l3"><a class="reference internal" href="../langage_java/les_dates.html#periode-et-duree">Période et durée</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/les_dates.html#formatage-des-dates">Formatage des dates</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/les_dates.html#lecture-des-dates">Lecture des dates</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/les_dates.html#exercice">Exercice</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../langage_java/les_lambdas.html">Les lambdas</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/les_lambdas.html#syntaxe-des-lambdas">Syntaxe des lambdas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/les_lambdas.html#lambda-et-closure">Lambda et closure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/les_lambdas.html#les-interfaces-fonctionnelles">Les interfaces fonctionnelles</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/les_lambdas.html#l-operateur-de-reference-de-methode">L’opérateur :: de référence de méthode</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../langage_java/streams.html">Streams</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/streams.html#creation-d-un-stream">Création d’un stream</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/streams.html#la-reduction">La réduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/streams.html#la-collecte">La collecte</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/streams.html#le-filtrage">Le filtrage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/streams.html#le-mapping">Le mapping</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/streams.html#le-parallelisme">Le parallélisme</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/streams.html#exercice">Exercice</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../langage_java/classe_interne.html">Les classes internes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/classe_interne.html#les-classes-internes-static">Les classes internes static</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/classe_interne.html#id1">Les classes internes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/classe_interne.html#les-classes-anonymes">Les classes anonymes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/classe_interne.html#acces-aux-elements-de-l-objet-englobant">Accès aux éléments de l’objet englobant</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/classe_interne.html#classe-interne-a-une-methode">Classe interne à une méthode</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/classe_interne.html#interface-et-enumeration">Interface et énumération</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/classe_interne.html#plusieurs-classes-dans-un-meme-fichier">Plusieurs classes dans un même fichier</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../langage_java/les_annotations.html">Les annotations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/les_annotations.html#utilisation-des-annotations">Utilisation des annotations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/les_annotations.html#declaration-d-une-annotation">Déclaration d’une annotation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/les_annotations.html#retention-d-une-annotation">Rétention d’une annotation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/les_annotations.html#utilisation-des-annotations-par-introspection">Utilisation des annotations par introspection</a></li>
<li class="toctree-l2"><a class="reference internal" href="../langage_java/les_annotations.html#exercice">Exercice</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Java Swing</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../java_swing/swing_interfaces_graphiques.html">Swing : les interfaces graphiques</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../java_swing/swing_interfaces_graphiques.html#une-premiere-application">Une première application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../java_swing/swing_interfaces_graphiques.html#les-principaux-composants">Les principaux composants</a></li>
<li class="toctree-l2"><a class="reference internal" href="../java_swing/swing_interfaces_graphiques.html#les-layouts">Les layouts</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../java_swing/swing_interfaces_graphiques.html#le-boxlayout">Le BoxLayout</a></li>
<li class="toctree-l3"><a class="reference internal" href="../java_swing/swing_interfaces_graphiques.html#le-gridbaglayout">Le GridBagLayout</a></li>
<li class="toctree-l3"><a class="reference internal" href="../java_swing/swing_interfaces_graphiques.html#le-springlayout">Le SpringLayout</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../java_swing/swing_interfaces_graphiques.html#le-look-feel">Le look &amp; feel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../java_swing/swing_interfaces_graphiques.html#exercice">Exercice</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../java_swing/swing_interactions.html">Swing : les interactions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../java_swing/swing_interactions.html#les-listeners">Les listeners</a></li>
<li class="toctree-l2"><a class="reference internal" href="../java_swing/swing_interactions.html#les-menus">Les menus</a></li>
<li class="toctree-l2"><a class="reference internal" href="../java_swing/swing_interactions.html#l-interface-action">L’interface Action</a></li>
<li class="toctree-l2"><a class="reference internal" href="../java_swing/swing_interactions.html#les-boites-de-dialogue">Les boites de dialogue</a></li>
<li class="toctree-l2"><a class="reference internal" href="../java_swing/swing_interactions.html#les-boites-de-dialogues-avancees">Les boites de dialogues avancées</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../java_swing/swing_interactions.html#boite-de-dialogue-des-fichiers">Boite de dialogue des fichiers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../java_swing/swing_interactions.html#boite-de-selection-de-couleur">Boite de sélection de couleur</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../java_swing/swing_interactions.html#exercice">Exercice</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../java_swing/swing_notions_avancees.html">Swing : notions avancées</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../java_swing/swing_notions_avancees.html#creation-de-composant">Création de composant</a></li>
<li class="toctree-l2"><a class="reference internal" href="../java_swing/swing_notions_avancees.html#exercice">Exercice</a></li>
<li class="toctree-l2"><a class="reference internal" href="../java_swing/swing_notions_avancees.html#principe-du-mvc">Principe du MVC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../java_swing/swing_notions_avancees.html#la-classe-jtable">La classe JTable</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Java EE ORM</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Accès aux bases de données : JDBC</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#preambule-try-with-resources">Préambule : try-with-resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="#le-pilote-de-base-de-donnees">Le pilote de base de données</a></li>
<li class="toctree-l2"><a class="reference internal" href="#creation-d-une-connexion">Création d’une connexion</a></li>
<li class="toctree-l2"><a class="reference internal" href="#l-url-de-connexion-et-la-classe-des-pilotes">L’URL de connexion et la classe des pilotes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#les-requetes-sql-statement">Les requêtes SQL (Statement)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#le-statement">Le Statement</a></li>
<li class="toctree-l2"><a class="reference internal" href="#le-resultset">Le ResultSet</a></li>
<li class="toctree-l2"><a class="reference internal" href="#le-preparedstatement">Le PreparedStatement</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#l-injection-sql">L’injection SQL</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#recuperation-des-cles-generees">Récupération des clés générées</a></li>
<li class="toctree-l2"><a class="reference internal" href="#le-callablestatement">Le CallableStatement</a></li>
<li class="toctree-l2"><a class="reference internal" href="#la-transaction">La transaction</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="jdbc_webapp.html">JDBC dans une application Web</a><ul>
<li class="toctree-l2"><a class="reference internal" href="jdbc_webapp.html#acces-a-une-datasource">Accès à une DataSource</a></li>
<li class="toctree-l2"><a class="reference internal" href="jdbc_webapp.html#injection-d-une-datasource">Injection d’une DataSource</a></li>
<li class="toctree-l2"><a class="reference internal" href="jdbc_webapp.html#declaration-de-la-datasource-dans-le-fichier-web-xml">Déclaration de la DataSource dans le fichier web.xml</a></li>
<li class="toctree-l2"><a class="reference internal" href="jdbc_webapp.html#declaration-d-une-datasource-dans-tomcat">Déclaration d’une DataSource dans Tomcat</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="jpa_entites.html">Les entités JPA</a><ul>
<li class="toctree-l2"><a class="reference internal" href="jpa_entites.html#les-orm-object-relational-mapping">Les ORM (Object-Relational Mapping)</a></li>
<li class="toctree-l2"><a class="reference internal" href="jpa_entites.html#id1">Les entités JPA</a></li>
<li class="toctree-l2"><a class="reference internal" href="jpa_entites.html#l-entitymanager">L’EntityManager</a><ul>
<li class="toctree-l3"><a class="reference internal" href="jpa_entites.html#obtenir-un-entitymanager">Obtenir un EntityManager</a></li>
<li class="toctree-l3"><a class="reference internal" href="jpa_entites.html#creer-une-fabrique-d-entitymanager">Créer une fabrique d’EntityManager</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="jpa_entites.html#manipuler-des-entites-a-partir-d-un-entitymanager">Manipuler des entités à partir d’un EntityManager</a><ul>
<li class="toctree-l3"><a class="reference internal" href="jpa_entites.html#la-methode-persist">La méthode persist</a></li>
<li class="toctree-l3"><a class="reference internal" href="jpa_entites.html#la-methode-find">La méthode find</a></li>
<li class="toctree-l3"><a class="reference internal" href="jpa_entites.html#la-methode-refresh">La méthode refresh</a></li>
<li class="toctree-l3"><a class="reference internal" href="jpa_entites.html#la-methode-merge">La méthode merge</a></li>
<li class="toctree-l3"><a class="reference internal" href="jpa_entites.html#la-methode-detach">La méthode detach</a></li>
<li class="toctree-l3"><a class="reference internal" href="jpa_entites.html#la-methode-remove">La méthode remove</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="jpa_queries.html">Les requêtes JPA</a><ul>
<li class="toctree-l2"><a class="reference internal" href="jpa_queries.html#les-requetes-natives">Les requêtes Natives</a></li>
<li class="toctree-l2"><a class="reference internal" href="jpa_queries.html#les-requetes-jpql">Les requêtes JPQL</a><ul>
<li class="toctree-l3"><a class="reference internal" href="jpa_queries.html#les-requetes-par-programmation">Les requêtes par programmation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="jpa_queries.html#utilisation-de-requetes-nommees">Utilisation de requêtes nommées</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="jpa_inheritance.html">L’héritage avec JPA</a><ul>
<li class="toctree-l2"><a class="reference internal" href="jpa_inheritance.html#l-annotation-inheritance">L’annotation &#64;Inheritance</a><ul>
<li class="toctree-l3"><a class="reference internal" href="jpa_inheritance.html#heritage-avec-une-seule-table">Héritage avec une seule table</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="jpa_inheritance.html#heritage-avec-jointure-de-tables">Héritage avec jointure de tables</a></li>
<li class="toctree-l2"><a class="reference internal" href="jpa_inheritance.html#heritage-avec-une-table-par-classe">Héritage avec une table par classe</a></li>
<li class="toctree-l2"><a class="reference internal" href="jpa_inheritance.html#l-heritage-et-les-requetes-jpql-polymorphiques">L’héritage et les requêtes JPQL polymorphiques</a></li>
<li class="toctree-l2"><a class="reference internal" href="jpa_inheritance.html#un-cas-a-part-fusion-de-la-super-classe">Un cas à part : fusion de la super classe</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="jpa_relations.html">Les relations avec JPA</a><ul>
<li class="toctree-l2"><a class="reference internal" href="jpa_relations.html#la-relation-1-1-one-to-one">La relation 1:1 (one to one)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="jpa_relations.html#la-relation-n-1-many-to-one">La relation n:1 (many to one)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="jpa_relations.html#la-relation-1-n-one-to-many">La relation 1:n (one to many)</a></li>
<li class="toctree-l2"><a class="reference internal" href="jpa_relations.html#la-relation-n-n-many-to-many">La relation n:n (many to many)</a></li>
<li class="toctree-l2"><a class="reference internal" href="jpa_relations.html#les-relations-bi-directionnelles">Les relations bi-directionnelles</a></li>
<li class="toctree-l2"><a class="reference internal" href="jpa_relations.html#la-propagation-en-cascade">La propagation en cascade</a></li>
<li class="toctree-l2"><a class="reference internal" href="jpa_relations.html#requetes-jpql-et-jointure">Requêtes JPQL et jointure</a></li>
<li class="toctree-l2"><a class="reference internal" href="jpa_relations.html#fetch-lazy-ou-fetch-eager">Fetch lazy ou fetch eager</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">U'Dev 2018</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Accueil</a> &raquo;</li>
        
      <li>Accès aux bases de données : JDBC</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="breadcrumb navigation">
      
        <a href="jdbc_webapp.html" class="btn btn-neutral float-right" title="JDBC dans une application Web" accesskey="n">Suivant <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../java_swing/swing_notions_avancees.html" class="btn btn-neutral" title="Swing : notions avancées" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Précédent</a>
      
  </div>
  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="acces-aux-bases-de-donnees-jdbc">
<h1>Accès aux bases de données : JDBC<a class="headerlink" href="#acces-aux-bases-de-donnees-jdbc" title="Lien permanent vers ce titre">¶</a></h1>
<p>JDBC (Java DataBase Connectivity) est l’API standard pour interagir avec les
bases données relationnelles en Java. JDBC fait partie de l’édition standard et
est donc disponible directement dans le JDK.</p>
<div class="section" id="preambule-try-with-resources">
<h2>Préambule : try-with-resources<a class="headerlink" href="#preambule-try-with-resources" title="Lien permanent vers ce titre">¶</a></h2>
<p>L’API JDBC donne accès à des objets qui correspondent à des ressources de base
de données que le développeur doit impérativement fermer par l’appel à des
méthodes <em>close()</em>. Ne pas fermer correctement les objets fournis par JDBC est un
bug qui conduit habituellement à un épuisement des ressources système, empêchant
l’application de fonctionner correctement.</p>
<p>Java 7 a introduit l’interface <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html">AutoCloseable</a> ainsi qu’une nouvelle syntaxe
dénommée <a class="reference external" href="https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html">try-with-resources</a>. L’API JDBC utilise massivement l’interface
<a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html">AutoCloseable</a> et autorise donc le <a class="reference external" href="https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html">try-with-resources</a>. Ainsi, les deux codes
ci-dessous sont équivalents puisque la classe
<a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/Connection.html">java.sql.Connection</a> implémente <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html">AutoCloseable</a> :</p>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text">Avec try-with-resources</span><a class="headerlink" href="#id1" title="Lien permanent vers ce code">¶</a></div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="k">try</span> <span class="o">(</span><span class="n">java</span><span class="o">.</span><span class="na">sql</span><span class="o">.</span><span class="na">Connection</span> <span class="n">connection</span> <span class="o">=</span> <span class="n">dataSource</span><span class="o">.</span><span class="na">getConnection</span><span class="o">())</span> <span class="o">{</span>
  <span class="c1">// ...</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text">Sans try-with-resources</span><a class="headerlink" href="#id2" title="Lien permanent vers ce code">¶</a></div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">java</span><span class="o">.</span><span class="na">sql</span><span class="o">.</span><span class="na">Connection</span> <span class="n">connection</span> <span class="o">=</span> <span class="n">dataSource</span><span class="o">.</span><span class="na">getConnection</span><span class="o">();</span>
<span class="k">try</span> <span class="o">{</span>
  <span class="c1">// ...</span>
<span class="o">}</span>
<span class="k">finally</span> <span class="o">{</span>
  <span class="k">if</span> <span class="o">(</span><span class="n">connection</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">connection</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
<p>La version utilisant la syntaxe du <a class="reference external" href="https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html">try-with-resources</a> est plus compacte et prend
en charge automatiquement l’appel à la méthode _close(). Tout au long de ce
chapitre sur JDBC, les exemples utiliseront alternativement l’une ou l’autre
des syntaxes.</p>
</div>
<div class="section" id="le-pilote-de-base-de-donnees">
<h2>Le pilote de base de données<a class="headerlink" href="#le-pilote-de-base-de-donnees" title="Lien permanent vers ce titre">¶</a></h2>
<p>JDBC est une API indépendante de la base de données sous-jacente. D’un côté,
les développeurs implémentent les interactions avec une base de données à partir
de cette API. D’un autre côté, chaque fournisseur de SGBDR livre sa propre
implémentation d’un pilote JDBC (JDBC driver). Pour pouvoir se connecter à une
base de données, il faut simplement ajouter le driver (qui se présente sous la
forme d’un fichier jar) dans le <em>classpath</em> lors de l’exécution du programme.</p>
<p>Des pilotes JDBC sont disponibles pour les SGBDR les plus utilisés : <a class="reference external" href="https://www.oracle.com/index.html">Oracle DB</a>,
<a class="reference external" href="https://www.mysql.com/">MySQL</a>, <a class="reference external" href="https://www.postgresql.org/">PostgreSQL</a>, <a class="reference external" href="http://db.apache.org/derby/">Apache Derby</a>, <a class="reference external" href="https://docs.microsoft.com/fr-fr/sql/connect/jdbc/microsoft-jdbc-driver-for-sql-server?view=sql-server-2017">SQLServer</a>, <a class="reference external" href="https://www.sqlite.org/">SQLite</a>, <a class="reference external" href="http://hsqldb.org/">HSQLDB</a> (HyperSQL DataBase)…</p>
<p>On peut rechercher le pilote souhaité sur le site du <a class="reference external" href="http://mvnrepository.com/">Maven Repository</a>.</p>
<div class="admonition caution">
<p class="admonition-title">Prudence</p>
<p>pour des raisons de licence, certains pilotes JDBC ne sont pas disponibles
dans les référentiels Maven. C’est le cas notamment du pilote JDBC pour Oracle.</p>
</div>
</div>
<div class="section" id="creation-d-une-connexion">
<h2>Création d’une connexion<a class="headerlink" href="#creation-d-une-connexion" title="Lien permanent vers ce titre">¶</a></h2>
<p>Une connexion à une base de données est représentée par une instance de la
classe <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/Connection.html">Connection</a>.</p>
<p>Comme nous l’avons précisé au début de ce chapitre, JDBC fait partie de l’API
standard du JDK. Toute application Java peut donc facilement contenir du code
qui permet de se connecter à une base de données. Pour cela, il faut utiliser la
classe <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/DriverManager.html">DriverManager</a> pour enregistrer un pilote JDBC et créer une connexion :</p>
<div class="literal-block-wrapper docutils container" id="id4">
<div class="code-block-caption"><span class="caption-text">Création d’une connexion MySQL avec le DriverManager</span><a class="headerlink" href="#id4" title="Lien permanent vers ce code">¶</a></div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">DriverManager</span><span class="o">.</span><span class="na">registerDriver</span><span class="o">(</span><span class="k">new</span> <span class="n">com</span><span class="o">.</span><span class="na">mysql</span><span class="o">.</span><span class="na">jdbc</span><span class="o">.</span><span class="na">Driver</span><span class="o">());</span>

<span class="c1">// Connexion à la base myschema sur la machine localhost</span>
<span class="c1">// en utilisant le login &quot;username&quot; et le password &quot;password&quot;</span>
<span class="n">Connection</span> <span class="n">connection</span> <span class="o">=</span> <span class="n">DriverManager</span><span class="o">.</span><span class="na">getConnection</span><span class="o">(</span><span class="s">&quot;jdbc:mysql://localhost/myschema&quot;</span><span class="o">,</span>
                                                    <span class="s">&quot;username&quot;</span><span class="o">,</span> <span class="s">&quot;password&quot;</span><span class="o">);</span>
</pre></div>
</div>
</div>
<p>Lorsque la connexion n’est plus nécessaire, il faut libérer les ressources
allouées en la fermant avec la méthode <em>close()</em>. La classe <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/Connection.html">Connection</a> implémente
<a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html">AutoCloseable</a>, ce qui l’autorise à être utilisée dans un <a class="reference external" href="https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html">try-with-resources</a>.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">connection</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
</pre></div>
</div>
</div>
<div class="section" id="l-url-de-connexion-et-la-classe-des-pilotes">
<h2>L’URL de connexion et la classe des pilotes<a class="headerlink" href="#l-url-de-connexion-et-la-classe-des-pilotes" title="Lien permanent vers ce titre">¶</a></h2>
<p>Comme nous l’avons vu à la section précédente, pour établir une connexion, nous
avons besoin de connaître la classe du pilote et l’URL de connexion à la base de
données. Il n’existe pas vraiment de règle en la matière puisque chaque
fournisseur de pilote décide du nom de la classe et du format de l’URL. Le
tableau suivant donne les informations nécessaires suivant le SGBDR :</p>
<table class="colwidths-given docutils align-center">
<colgroup>
<col style="width: 14%" />
<col style="width: 29%" />
<col style="width: 57%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>SGBDR</p></th>
<th class="head"><p>Nom de la classe du pilote</p></th>
<th class="head"><p>Format de l’URL de connexion</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Oracle DB</p></td>
<td><p>oracle.jdbc.OracleDriver</p></td>
<td><div class="line-block">
<div class="line"><a class="reference external" href="jdbc:oracle:thin:&#64;[host]:[port]:[schema">jdbc:oracle:thin:&#64;[host]:[port]:[schema</a>]</div>
<div class="line">Ex : <a class="reference external" href="jdbc:oracle:thin:&#64;localhost:1521:maBase">jdbc:oracle:thin:&#64;localhost:1521:maBase</a></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p>MySQL &lt;= 5.1</p></td>
<td><p>com.mysql.jdbc.Driver</p></td>
<td><div class="line-block">
<div class="line"><a class="reference external" href="jdbc:mysql://[host]:[port]/[schema">jdbc:mysql://[host]:[port]/[schema</a>]</div>
<div class="line">Ex : <a class="reference external" href="jdbc:mysql://localhost:3306/maBase">jdbc:mysql://localhost:3306/maBase</a></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p>MySQL &gt;= 8</p></td>
<td><p>com.mysql.cj.jdbc.Driver</p></td>
<td><div class="line-block">
<div class="line"><a class="reference external" href="jdbc:mysql://[host]:[port]/[schema">jdbc:mysql://[host]:[port]/[schema</a>]</div>
<div class="line">Ex : <a class="reference external" href="jdbc:mysql://localhost:3306/maBase">jdbc:mysql://localhost:3306/maBase</a></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p>MariaDB</p></td>
<td><p>org.mariadb.jdbc.Driver</p></td>
<td><div class="line-block">
<div class="line"><a class="reference external" href="jdbc:mariadb://[host]:[port]/[schema">jdbc:mariadb://[host]:[port]/[schema</a>]</div>
<div class="line">Ex : <a class="reference external" href="jdbc:mariadb://localhost:3306/maBase">jdbc:mariadb://localhost:3306/maBase</a></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p>PosgreSQL</p></td>
<td><p>org.postgresql.Driver</p></td>
<td><div class="line-block">
<div class="line"><a class="reference external" href="jdbc:postgresql://[host]:[port]/[schema">jdbc:postgresql://[host]:[port]/[schema</a>]</div>
<div class="line">Ex : <a class="reference external" href="jdbc:postgresql://localhost:5432/maBase">jdbc:postgresql://localhost:5432/maBase</a></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p>HSQLDB (mode fichier)</p></td>
<td><p>org.hsqldb.jdbcDriver</p></td>
<td><div class="line-block">
<div class="line"><a class="reference external" href="jdbc:hsqldb:file:[chemin">jdbc:hsqldb:file:[chemin</a> du fichier]</div>
<div class="line">Ex : <a class="reference external" href="jdbc:hsqldb:file:maBase">jdbc:hsqldb:file:maBase</a></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p>HSQLDB (mode mémoire)</p></td>
<td><p>org.hsqldb.jdbcDriver</p></td>
<td><div class="line-block">
<div class="line"><a class="reference external" href="jdbc:hsqldb:mem:[schema">jdbc:hsqldb:mem:[schema</a>]</div>
<div class="line">Ex : <a class="reference external" href="jdbc:hsqldb:mem:maBase">jdbc:hsqldb:mem:maBase</a></div>
</div>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Pour MySQL &gt;= 8, il est parfois nécessaire de préciser le fuseau horaire
à utiliser par le serveur en passant le paramètre <code class="docutils literal notranslate"><span class="pre">serverTimezone</span></code> dans
l’URI de connexion :</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>jdbc:mysql://localhost:3306/maBase?serverTimezone=GMT
</pre></div>
</div>
</div>
</div>
<div class="section" id="les-requetes-sql-statement">
<h2>Les requêtes SQL (Statement)<a class="headerlink" href="#les-requetes-sql-statement" title="Lien permanent vers ce titre">¶</a></h2>
<p>L’interface <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/Connection.html">Connection</a> permet, entre autres, de créer des <em>Statements</em>. Un
<em>Statement</em> est une interface qui permet d’effectuer des requêtes SQL.
On distingue 3 types de Statement :</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/Statement.html">Statement</a> : Permet d’exécuter une requête SQL et d’en connaître le résultat.</p></li>
<li><p><a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/PreparedStatement.html">PreparedStatement</a> : Comme le <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/Statement.html">Statement</a>, le <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/PreparedStatement.html">PreparedStatement</a> permet
d’exécuter une requête SQL et d’en connaître le résultat. Le
<a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/PreparedStatement.html">PreparedStatement</a> est une requête paramétrable. Pour des raisons de
performance, on peut préparer une requête et ensuite l’exécuter autant de
fois que nécessaire en passant des paramètres différents. Le <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/PreparedStatement.html">PreparedStatement</a>
est également pratique pour se prémunir efficacement des failles de sécurité
par injection SQL.</p></li>
<li><p><a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/CallableStatement.html">CallableStatement</a> : permet d’exécuter des procédures stockées sur le SGBDR.
On peut ainsi passer des paramètres en entrée du <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/CallableStatement.html">CallableStatement</a> et
récupérer les paramètres de sortie après exécution.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="le-statement">
<h2>Le Statement<a class="headerlink" href="#le-statement" title="Lien permanent vers ce titre">¶</a></h2>
<p>Un <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/Statement.html">Statement</a> est créé à partir d’une des méthodes <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/Connection.html#createStatement--">createStatement</a> de
l’interface <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/Connection.html">Connection</a>. À partir d’un <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/Statement.html">Statement</a>, il est possible d’exécuter
des requêtes SQL :</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">java</span><span class="o">.</span><span class="na">sql</span><span class="o">.</span><span class="na">Statement</span> <span class="n">stmt</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="na">createStatement</span><span class="o">();</span>

<span class="c1">// méthode la plus générique d&#39;un statement. Retourne true si la requête SQL</span>
<span class="c1">// exécutée est un select (c&#39;est-à-dire si la requête produit un résultat)</span>
<span class="n">stmt</span><span class="o">.</span><span class="na">execute</span><span class="o">(</span><span class="s">&quot;insert into myTable (col1, col2) values (&#39;value1&#39;, &#39;value1&#39;)&quot;</span><span class="o">);</span>

<span class="c1">// méthode spécialisée pour l&#39;exécution d&#39;un select. Cette méthode retourne</span>
<span class="c1">// un ResultSet (voir plus loin)</span>
<span class="n">stmt</span><span class="o">.</span><span class="na">executeQuery</span><span class="o">(</span><span class="s">&quot;select col1, col2 from myTable&quot;</span><span class="o">);</span>

<span class="c1">// méthode spécialisée pour toutes les requêtes qui ne sont pas de type select.</span>
<span class="c1">// Contrairement à ce que son nom indique, on peut l&#39;utiliser pour des requêtes</span>
<span class="c1">// DDL (create table, drop table, ...) et pour toutes requêtes DML (insert, update, delete).</span>
<span class="n">stmt</span><span class="o">.</span><span class="na">executeUpdate</span><span class="o">(</span><span class="s">&quot;insert into myTable (col1, col2) values (&#39;value1&#39;, &#39;value1&#39;)&quot;</span><span class="o">);</span>
</pre></div>
</div>
<div class="admonition caution">
<p class="admonition-title">Prudence</p>
<p>Un <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/Statement.html">Statement</a> est une ressource JDBC et il doit être fermé dès qu’il n’est plus nécessaire :</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">stmt</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
</pre></div>
</div>
<p>La classe <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/Statement.html">Statement</a> implémente <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html">AutoCloseable</a>, ce qui l’autorise à être utilisée
dans un <a class="reference external" href="https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html">try-with-resources</a>.</p>
</div>
<p>Pour des raisons de performance, il est également possible d’utiliser un
<a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/Statement.html">Statement</a> en mode batch. Cela signifie, que l’on accumule l’ensemble des requêtes
SQL côté client, puis on les envoie en bloc au serveur plutôt que de les exécuter
séquentiellement.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">java</span><span class="o">.</span><span class="na">sql</span><span class="o">.</span><span class="na">Statement</span> <span class="n">stmt</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="na">createStatement</span><span class="o">();</span>
<span class="k">try</span> <span class="o">{</span>
  <span class="n">stmt</span><span class="o">.</span><span class="na">addBatch</span><span class="o">(</span><span class="s">&quot;update myTable set col3 = &#39;sameValue&#39; where col1 = col2&quot;</span><span class="o">);</span>
  <span class="n">stmt</span><span class="o">.</span><span class="na">addBatch</span><span class="o">(</span><span class="s">&quot;update myTable set col3 = &#39;anotherValue&#39; where col1 &lt;&gt; col2&quot;</span><span class="o">);</span>
  <span class="n">stmt</span><span class="o">.</span><span class="na">addBatch</span><span class="o">(</span><span class="s">&quot;update myTable set col3 = &#39;nullValue&#39; where col1 = null and col2 = null&quot;</span><span class="o">);</span>
  <span class="c1">// les requêtes SQL sont soumises au serveur au moment de l&#39;appel à executeBatch</span>
  <span class="n">stmt</span><span class="o">.</span><span class="na">executeBatch</span><span class="o">();</span>
<span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
  <span class="n">stmt</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="section" id="le-resultset">
<h2>Le ResultSet<a class="headerlink" href="#le-resultset" title="Lien permanent vers ce titre">¶</a></h2>
<p>Lorsqu’on exécute une requête SQL de type select, JDBC nous donne accès à une
instance de <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/ResultSet.html">ResultSet</a>. Avec un <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/ResultSet.html">ResultSet</a>, il est possible de parcourir ligne
à ligne les résultats de la requête (comme avec un itérateur) grâce à la méthode
<a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/ResultSet.html#next--">ResultSet.next</a>. Pour chaque résultat, il est possible d’extraire les données
dans un type supporté par Java.</p>
<p>Le <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/ResultSet.html">ResultSet</a> offre une liste de méthodes de la forme :</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">ResultSet</span><span class="o">.</span><span class="na">getXXX</span><span class="o">(</span><span class="n">String</span> <span class="n">columnName</span><span class="o">)</span>
<span class="n">ResultSet</span><span class="o">.</span><span class="na">getXXX</span><span class="o">(</span><span class="kt">int</span> <span class="n">columnIndex</span><span class="o">)</span>
</pre></div>
</div>
<p><em>XXX</em> représente le type Java que la méthode retourne. Si on passe un numéro en
paramètre, il s’agit du numéro de la colonne dans l’ordre du select.</p>
<div class="admonition caution">
<p class="admonition-title">Prudence</p>
<p>Le numéro de la première colonne est <strong>1</strong>.</p>
</div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">String</span> <span class="n">request</span> <span class="o">=</span> <span class="s">&quot;select titre, date_sortie, duree from films&quot;</span><span class="o">;</span>

<span class="k">try</span> <span class="o">(</span><span class="n">java</span><span class="o">.</span><span class="na">sql</span><span class="o">.</span><span class="na">Statement</span> <span class="n">stmt</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="na">createStatement</span><span class="o">();</span>
     <span class="n">java</span><span class="o">.</span><span class="na">sql</span><span class="o">.</span><span class="na">ResultSet</span> <span class="n">resultSet</span> <span class="o">=</span> <span class="n">stmt</span><span class="o">.</span><span class="na">executeQuery</span><span class="o">(</span><span class="n">request</span><span class="o">);)</span> <span class="o">{</span>

  <span class="c1">// on parcourt l&#39;ensemble des résultats retourné par la requête</span>
  <span class="k">while</span> <span class="o">(</span><span class="n">resultSet</span><span class="o">.</span><span class="na">next</span><span class="o">())</span> <span class="o">{</span>
    <span class="n">String</span> <span class="n">titre</span> <span class="o">=</span> <span class="n">resultSet</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">&quot;titre&quot;</span><span class="o">);</span>
    <span class="n">java</span><span class="o">.</span><span class="na">sql</span><span class="o">.</span><span class="na">Date</span> <span class="n">dateSortie</span> <span class="o">=</span> <span class="n">resultSet</span><span class="o">.</span><span class="na">getDate</span><span class="o">(</span><span class="s">&quot;date_sortie&quot;</span><span class="o">);</span>
    <span class="kt">long</span> <span class="n">duree</span> <span class="o">=</span> <span class="n">resultSet</span><span class="o">.</span><span class="na">getLong</span><span class="o">(</span><span class="s">&quot;duree&quot;</span><span class="o">);</span>

    <span class="c1">// ...</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<div class="admonition caution">
<p class="admonition-title">Prudence</p>
<p>Un <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/ResultSet.html">ResultSet</a> est une ressource JDBC et il doit être fermé dès qu’il n’est
plus nécessaire :</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">resultSet</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
</pre></div>
</div>
<p>La classe <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/ResultSet.html">ResultSet</a> implémente <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html">AutoCloseable</a>, ce qui l’autorise à être utilisée
dans un <a class="reference external" href="https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html">try-with-resources</a>.</p>
</div>
</div>
<div class="section" id="le-preparedstatement">
<h2>Le PreparedStatement<a class="headerlink" href="#le-preparedstatement" title="Lien permanent vers ce titre">¶</a></h2>
<p>Un <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/PreparedStatement.html">PreparedStatement</a> est créé à partir d’une des méthodes <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/Connection.html#prepareStatement-java.lang.String-">prepareStatement</a> de
l’interface <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/Connection.html">Connection</a>. Lors de l’appel à <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/Connection.html#prepareStatement-java.lang.String-">prepareStatement</a>, il faut passer la
requête SQL à exécuter. Cependant, cette requête peut contenir des <strong>?</strong>
indiquant l’emplacement des paramètres.</p>
<p>L’interface <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/PreparedStatement.html">PreparedStatement</a> fournit des méthodes de la forme :</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">PreparedStatement</span><span class="o">.</span><span class="na">setXXX</span><span class="o">(</span><span class="kt">int</span> <span class="n">parameterIndex</span><span class="o">,</span> <span class="n">XXX</span> <span class="n">x</span><span class="o">)</span>
</pre></div>
</div>
<p><em>XXX</em> représente le type du paramètre, <em>parameterIndex</em> sa position dans la
requête SQL (attention, le premier paramètre a l’indice <strong>1</strong>) et <em>x</em> sa valeur.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Pour positionner un paramètre SQL à <em>NULL</em>, il faut utiliser la méthode
<a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/PreparedStatement.html#setNull-int-int-">setNull(int parameterIndex, int sqlType)</a>.</p>
</div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">String</span> <span class="n">request</span> <span class="o">=</span> <span class="s">&quot;insert into films (titre, date_sortie, duree) values (?, ?, ?)&quot;</span><span class="o">;</span>

<span class="k">try</span> <span class="o">(</span><span class="n">java</span><span class="o">.</span><span class="na">sql</span><span class="o">.</span><span class="na">PreparedStatement</span> <span class="n">pstmt</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="na">prepareStatement</span><span class="o">(</span><span class="n">request</span><span class="o">))</span> <span class="o">{</span>

  <span class="n">pstmt</span><span class="o">.</span><span class="na">setString</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="s">&quot;live JDBC&quot;</span><span class="o">);</span>
  <span class="n">pstmt</span><span class="o">.</span><span class="na">setDate</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="k">new</span> <span class="n">java</span><span class="o">.</span><span class="na">sql</span><span class="o">.</span><span class="na">Date</span><span class="o">(</span><span class="n">System</span><span class="o">.</span><span class="na">currentTimeMillis</span><span class="o">()));</span>
  <span class="n">pstmt</span><span class="o">.</span><span class="na">setInt</span><span class="o">(</span><span class="mi">3</span><span class="o">,</span> <span class="mi">120</span><span class="o">);</span>

  <span class="n">pstmt</span><span class="o">.</span><span class="na">executeUpdate</span><span class="o">();</span>
<span class="o">}</span>
</pre></div>
</div>
<div class="admonition caution">
<p class="admonition-title">Prudence</p>
<p>Un <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/PreparedStatement.html">PreparedStatement</a> est une ressource JDBC et il doit être fermé dès qu’il
n’est plus nécessaire :</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">pstmt</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
</pre></div>
</div>
<p>La classe <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/PreparedStatement.html">PreparedStatement</a> implémente <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html">AutoCloseable</a>, ce qui l’autorise à
être utilisée dans un <a class="reference external" href="https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html">try-with-resources</a>.</p>
</div>
<p>Le <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/PreparedStatement.html">PreparedStatement</a> reprend une API similaire à celle du <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/Statement.html">Statement</a> :</p>
<ul class="simple">
<li><p>une méthode <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/Statement.html#execute-java.lang.String-">execute</a> pour tous les types de requête SQL</p></li>
<li><p>une méthode <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/Statement.html#executeQuery-java.lang.String-">executeQuery</a> (qui retourne un <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/ResultSet.html">ResultSet</a>) pour les requêtes SQL de type select</p></li>
<li><p>une méthode <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/Statement.html#executeUpdate-java.lang.String-">executeUpdate</a> pour toutes les requêtes SQL qui ne sont pas des select</p></li>
</ul>
<p>Le <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/PreparedStatement.html">PreparedStatement</a> offre trois avantages :</p>
<ul class="simple">
<li><p>il permet de convertir efficacement les types Java en types SQL pour les données en entrée</p></li>
<li><p>il permet d’améliorer les performances si on désire exécuter plusieurs fois la
même requête avec des paramètres différents. À noter que le <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/PreparedStatement.html">PreparedStatement</a>
supporte lui aussi le mode batch</p></li>
<li><p>il permet de se prémunir de failles de sécurité telles que l’injection SQL</p></li>
</ul>
<div class="section" id="l-injection-sql">
<h3>L’injection SQL<a class="headerlink" href="#l-injection-sql" title="Lien permanent vers ce titre">¶</a></h3>
<p>L’injection SQL est une faille de sécurité qui permet à un utilisateur malveillant
de modifier une requête SQL pour obtenir un comportement non souhaité par le
développeur. Imaginons que le code suivant est exécuté après la saisie par
l’utilisateur de son login et de son mot de passe :</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">isUserAuthorized</span><span class="o">(</span><span class="n">String</span> <span class="n">login</span><span class="o">,</span> <span class="n">String</span> <span class="n">password</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">SQLException</span> <span class="o">{</span>
  <span class="k">try</span> <span class="o">(</span><span class="n">java</span><span class="o">.</span><span class="na">sql</span><span class="o">.</span><span class="na">Statement</span> <span class="n">stmt</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="na">createStatement</span><span class="o">())</span> <span class="o">{</span>

    <span class="n">String</span> <span class="n">request</span> <span class="o">=</span> <span class="s">&quot;select * from users where login = &#39;&quot;</span> <span class="o">+</span> <span class="n">login</span>
                     <span class="o">+</span> <span class="s">&quot;&#39; and password = &#39;&quot;</span> <span class="o">+</span> <span class="n">password</span> <span class="o">+</span> <span class="s">&quot;&#39;&quot;</span><span class="o">;</span>

    <span class="k">try</span> <span class="o">(</span><span class="n">java</span><span class="o">.</span><span class="na">sql</span><span class="o">.</span><span class="na">ResultSet</span> <span class="n">resultSet</span> <span class="o">=</span> <span class="n">stmt</span><span class="o">.</span><span class="na">executeQuery</span><span class="o">(</span><span class="n">request</span><span class="o">))</span> <span class="o">{</span>
      <span class="k">return</span> <span class="n">resultSet</span><span class="o">.</span><span class="na">next</span><span class="o">();</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<p>Le code précédent construit la requête SQL en concaténant des chaînes de
caractères à partir des paramètres reçus. Il exécute la requête et s’assure
qu’elle retourne au moins un résultat.</p>
<p>Un utilisateur mal intentionné peut alors saisir comme login et mot de passe :
<kbd class="kbd docutils literal notranslate">' or '' = '</kbd>. Ainsi la requête SQL sera :</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">users</span> <span class="k">where</span> <span class="n">login</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span> <span class="k">or</span> <span class="s1">&#39;&#39;</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span> <span class="k">and</span> <span class="n">password</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span> <span class="k">or</span> <span class="s1">&#39;&#39;</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
</pre></div>
</div>
<p>Cette requête SQL retourne toutes les lignes de la table users et l’utilisateur
sera donc considéré comme autorisé par l’application.</p>
<p>Si on modifie le code précédent pour utiliser un <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/PreparedStatement.html">PreparedStatement</a>, ce
comportement non souhaité disparaît :</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">isUserAuthorized</span><span class="o">(</span><span class="n">String</span> <span class="n">login</span><span class="o">,</span> <span class="n">String</span> <span class="n">password</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">SQLException</span> <span class="o">{</span>
  <span class="n">String</span> <span class="n">request</span> <span class="o">=</span> <span class="s">&quot;select * from users where login = ? and password = ?&quot;</span><span class="o">;</span>
  <span class="k">try</span> <span class="o">(</span><span class="n">java</span><span class="o">.</span><span class="na">sql</span><span class="o">.</span><span class="na">PreparedStatement</span> <span class="n">stmt</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="na">prepareStatement</span><span class="o">(</span><span class="n">request</span><span class="o">))</span> <span class="o">{</span>

    <span class="n">stmt</span><span class="o">.</span><span class="na">setString</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="n">login</span><span class="o">);</span>
    <span class="n">stmt</span><span class="o">.</span><span class="na">setString</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="n">password</span><span class="o">);</span>

    <span class="k">try</span> <span class="o">(</span><span class="n">java</span><span class="o">.</span><span class="na">sql</span><span class="o">.</span><span class="na">ResultSet</span> <span class="n">resultSet</span> <span class="o">=</span> <span class="n">stmt</span><span class="o">.</span><span class="na">executeQuery</span><span class="o">())</span> <span class="o">{</span>
      <span class="k">return</span> <span class="n">resultSet</span><span class="o">.</span><span class="na">next</span><span class="o">();</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<p>Avec un <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/PreparedStatement.html">PreparedStatement</a>, login et password sont maintenant des paramètres de
la requête SQL et ils ne peuvent pas en modifier sa structure. La requête exécutée
sera équivalente à :</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">users</span> <span class="k">where</span> <span class="n">login</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39; or &#39;&#39;&#39;&#39; = &#39;&#39;&#39;</span> <span class="k">and</span> <span class="n">password</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39; or &#39;&#39;&#39;&#39; = &#39;&#39;&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="recuperation-des-cles-generees">
<h2>Récupération des clés générées<a class="headerlink" href="#recuperation-des-cles-generees" title="Lien permanent vers ce titre">¶</a></h2>
<p>Lorsque la base de données est responsable de générer la clé primaire lors
d’une opération d’insertion (comme pour les colonnes <em>AUTO INCREMENT</em> de MySQL),
il est parfois utile de pouvoir récupérer la valeur de cette clé pour pouvoir
créer de nouvelles requêtes. La méthode <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/Statement.html#getGeneratedKeys--">getGeneratedKeys</a> sur un <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/Statement.html">Statement</a>
permet de récupérer une instance de <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/ResultSet.html">ResultSet</a> pour parcourir la liste des
clés générées par une requête (la plupart du temps, une seule clé est générée).
Ce <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/ResultSet.html">ResultSet</a> permet d’accéder à une colonne contenant la valeur de la clé.
Attention, il est nécessaire de créer un <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/Statement.html">Statement</a> ou un <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/PreparedStatement.html">PreparedStatement</a>
en passant l’option <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/Statement.html#RETURN_GENERATED_KEYS">RETURN_GENERATED_KEYS</a> pour informer JDBC que l’on souhaite
récupérer la valeur de la ou des clés après un appel à <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/Statement.html#executeUpdate-java.lang.String-">executeUpdate</a>.</p>
<p>Ci-dessous, un exemple avec un <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/PreparedStatement.html">PreparedStatement</a> :</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">String</span> <span class="n">request</span> <span class="o">=</span> <span class="s">&quot;insert into films (titre, date_sortie, duree) values (?, ?, ?)&quot;</span><span class="o">;</span>

<span class="k">try</span> <span class="o">(</span><span class="n">java</span><span class="o">.</span><span class="na">sql</span><span class="o">.</span><span class="na">PreparedStatement</span> <span class="n">pstmt</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="na">prepareStatement</span><span class="o">(</span><span class="n">request</span><span class="o">,</span> <span class="n">java</span><span class="o">.</span><span class="na">sql</span><span class="o">.</span><span class="na">Statement</span><span class="o">.</span><span class="na">RETURN_GENERATED_KEYS</span><span class="o">))</span> <span class="o">{</span>

  <span class="n">pstmt</span><span class="o">.</span><span class="na">setString</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="s">&quot;live JDBC&quot;</span><span class="o">);</span>
  <span class="n">pstmt</span><span class="o">.</span><span class="na">setDate</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="k">new</span> <span class="n">java</span><span class="o">.</span><span class="na">sql</span><span class="o">.</span><span class="na">Date</span><span class="o">(</span><span class="n">System</span><span class="o">.</span><span class="na">currentTimeMillis</span><span class="o">()));</span>
  <span class="n">pstmt</span><span class="o">.</span><span class="na">setInt</span><span class="o">(</span><span class="mi">3</span><span class="o">,</span> <span class="mi">120</span><span class="o">);</span>

  <span class="n">pstmt</span><span class="o">.</span><span class="na">executeUpdate</span><span class="o">();</span>

  <span class="k">try</span> <span class="o">(</span><span class="n">java</span><span class="o">.</span><span class="na">sql</span><span class="o">.</span><span class="na">ResultSet</span> <span class="n">resultSet</span> <span class="o">=</span> <span class="n">pstmt</span><span class="o">.</span><span class="na">getGeneratedKeys</span><span class="o">())</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">resultSet</span><span class="o">.</span><span class="na">next</span><span class="o">())</span> <span class="o">{</span>
        <span class="c1">// On récupère la clé dans la première colonne</span>
        <span class="kt">int</span> <span class="n">key</span> <span class="o">=</span> <span class="n">resultSet</span><span class="o">.</span><span class="na">getInt</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
        <span class="c1">// ...</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="section" id="le-callablestatement">
<h2>Le CallableStatement<a class="headerlink" href="#le-callablestatement" title="Lien permanent vers ce titre">¶</a></h2>
<p>Un <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/CallableStatement.html">CallableStatement</a> permet d’appeler des procédures ou des fonctions stockées.
Il est créé à partir d’une des méthodes <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/Connection.html#prepareCall-java.lang.String-">prepareCall</a> de l’interface <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/Connection.html">Connection</a>.
Comme pour le <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/PreparedStatement.html">PreparedStatement</a>, il est nécessaire de passer la requête lors de
l’appel à <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/Connection.html#prepareCall-java.lang.String-">prepareCall</a> et l’utilisation de <strong>?</strong> permet de spécifier les paramètres.</p>
<p>Cependant, il n’existe pas de syntaxe standard en SQL pour appeler des procédures
ou des fonctions stockées. JDBC définit tout de même une syntaxe compatible avec
tous les pilotes JDBC :</p>
<div class="literal-block-wrapper docutils container" id="id5">
<div class="code-block-caption"><span class="caption-text">Requête JDBC pour l’appel d’une procédure stockée</span><a class="headerlink" href="#id5" title="Lien permanent vers ce code">¶</a></div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>{call nom_de_la_procedure(?, ?, ?, ...)}
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id6">
<div class="code-block-caption"><span class="caption-text">Requête JDBC pour l’appel d’une fonction stockée</span><a class="headerlink" href="#id6" title="Lien permanent vers ce code">¶</a></div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>{? = call nom_de_la_fonction(?, ?, ?, ...)}
</pre></div>
</div>
</div>
<p>Un <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/CallableStatement.html">CallableStatement</a> permet de passer des paramètres en entrée avec des méthodes
de type <em>setXXX</em> comme pour le <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/PreparedStatement.html">PreparedStatement</a>. Il permet également de récupérer
les paramètres en sortie avec des méthodes de type <em>getXXX</em> comme on peut trouver
dans l’interface <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/ResultSet.html">ResultSet</a>. Comme pour le <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/PreparedStatement.html">PreparedStatement</a>, on retrouve les
méthodes <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/Statement.html#execute-java.lang.String-">execute</a>, <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/Statement.html#executeUpdate-java.lang.String-">executeUpdate</a> et <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/Statement.html#executeQuery-java.lang.String-">executeQuery</a> pour réaliser l’appel à la
base de données.</p>
<div class="literal-block-wrapper docutils container" id="id7">
<div class="code-block-caption"><span class="caption-text">Exemple de procédure stockée MySQL</span><a class="headerlink" href="#id7" title="Lien permanent vers ce code">¶</a></div>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">create</span> <span class="k">procedure</span> <span class="n">sayHello</span> <span class="p">(</span><span class="k">in</span> <span class="n">nom</span> <span class="nb">varchar</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span> <span class="k">out</span> <span class="n">message</span> <span class="nb">varchar</span><span class="p">(</span><span class="mi">60</span><span class="p">))</span>
<span class="k">begin</span>
  <span class="k">select</span> <span class="n">concat</span><span class="p">(</span><span class="s1">&#39;hello &#39;</span><span class="p">,</span> <span class="n">nom</span><span class="p">,</span> <span class="s1">&#39; !&#39;</span><span class="p">)</span> <span class="k">into</span> <span class="n">message</span><span class="p">;</span>
<span class="k">end</span>
</pre></div>
</div>
</div>
<p>Pour appeler la procédure stockée définit ci-dessus :</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">String</span> <span class="n">request</span> <span class="o">=</span> <span class="s">&quot;{call sayHello(?, ?)}&quot;</span><span class="o">;</span>

<span class="k">try</span> <span class="o">(</span><span class="n">java</span><span class="o">.</span><span class="na">sql</span><span class="o">.</span><span class="na">CallableStatement</span> <span class="n">stmt</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="na">prepareCall</span><span class="o">(</span><span class="n">request</span><span class="o">))</span> <span class="o">{</span>
  <span class="c1">// on positionne le paramètre d&#39;entrée</span>
  <span class="n">stmt</span><span class="o">.</span><span class="na">setString</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="s">&quot;the world&quot;</span><span class="o">);</span>
  <span class="c1">// on appelle la procédure</span>
  <span class="n">stmt</span><span class="o">.</span><span class="na">executeUpdate</span><span class="o">();</span>
  <span class="c1">// on récupère le paramètre de sortie</span>
  <span class="n">String</span> <span class="n">message</span> <span class="o">=</span> <span class="n">stmt</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="mi">2</span><span class="o">);</span>

  <span class="c1">// ...</span>
<span class="o">}</span>
</pre></div>
</div>
<div class="admonition caution">
<p class="admonition-title">Prudence</p>
<p>Un <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/CallableStatement.html">CallableStatement</a> est une ressource JDBC et il doit être fermé dès qu’il
n’est plus nécessaire :</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">stmt</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
</pre></div>
</div>
<p>La classe <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/CallableStatement.html">CallableStatement</a> implémente <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html">AutoCloseable</a>, ce qui l’autorise à
être utilisée dans un <a class="reference external" href="https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html">try-with-resources</a>.</p>
</div>
</div>
<div class="section" id="la-transaction">
<h2>La transaction<a class="headerlink" href="#la-transaction" title="Lien permanent vers ce titre">¶</a></h2>
<p>La plupart des SGBDR intègrent un moteur de transaction. Une transaction est
définie par le respect de quatre propriétés désignées par l’acronyme <a class="reference external" href="https://fr.wikipedia.org/wiki/Propri%C3%A9t%C3%A9s_ACID">ACID</a> :</p>
<dl class="simple">
<dt>Atomicité</dt><dd><p>La transaction garantit que l’ensemble des opérations qui la composent sont
soit toutes réalisées avec succès soit aucune n’est conservée.</p>
</dd>
<dt>Cohérence</dt><dd><p>La transaction garantit qu’elle fait passer le système d’un état valide vers
un autre état valide.</p>
</dd>
<dt>Isolation</dt><dd><p>Deux transactions sont isolées l’une de l’autre. C’est-à-dire que leur
exécution simultanée produit le même résultat que si elles avaient été
exécutées successivement.</p>
</dd>
<dt>Durabilité</dt><dd><p>La transaction garantit qu’après son exécution, les modifications qu’elle a
apportées au système sont conservées durablement.</p>
</dd>
</dl>
<p>Une transaction est définie par un début et une fin qui peut être soit une
validation des modifications (<em>commit</em>), soit une annulation des modifications
effectuées (<em>rollback</em>). On parle de <strong>démarcation transactionnelle</strong> pour désigner
la portion de code qui doit s’exécuter dans le cadre d’une transaction.</p>
<p>Avec JDBC, il faut d’abord s’assurer que le pilote ne <em>commite</em> pas systématiquement
à chaque requête SQL (l’auto commit). Une opération de <em>commit</em> à chaque requête
SQL équivaut en fait à ne pas avoir de démarcation transactionnelle. Sur l’interface
<a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/Connection.html">Connection</a>, il existe les méthodes <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/Connection.html#setAutoCommit-boolean-">setAutoCommit</a> et <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/Connection.html#getAutoCommit--">getAutoCommit</a> pour nous
aider à gérer ce comportement. Attention, dans la plupart des implémentations
des pilotes JDBC, l’auto commit est activé par défaut (mais ce n’est pas une règle).</p>
<p>À partir du moment où l’auto commit n’est plus actif sur une connexion, il est
de la responsabilité du développeur d’appeler sur l’instance de <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/Connection.html">Connection</a> la
méthode <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/Connection.html#commit--">commit</a> (ou <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/sql/Connection.html#rollback--">rollback</a>) pour marquer la fin de la transaction.</p>
<p>Le contrôle de la démarcation transactionnelle par programmation est surtout
utile lorsque l’on souhaite garantir l’atomicité d’un ensemble de requêtes SQL.</p>
<p>Dans l’exemple ci-dessous, on doit mettre à jour deux tables (<em>ligne_facture</em>
et <em>stock_produit</em>) dans une application de gestion des stocks. Lorsqu’une quantité
d’un produit est ajoutée dans une facture alors la même quantité est déduite
du stock. Comme les requêtes SQL sont réalisées séquentiellement, il faut
s’assurer que soit les deux requêtes aboutissent soit les deux requêtes échouent.
Pour cela, on utilise la démarcation transactionnelle.</p>
<div class="highlight-java notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// si nécessaire on force la désactivation de l&#39;auto commit</span>
<span class="n">connection</span><span class="o">.</span><span class="na">setAutoCommit</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span>
<span class="kt">boolean</span> <span class="n">transactionOk</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>

<span class="k">try</span> <span class="o">{</span>

  <span class="c1">// on ajoute un produit avec une quantité donnée dans la facture</span>
  <span class="n">String</span> <span class="n">requeteAjoutProduit</span> <span class="o">=</span>
            <span class="s">&quot;insert into ligne_facture (facture_id, produit_id, quantite) values (?, ?, ?)&quot;</span><span class="o">;</span>

  <span class="k">try</span> <span class="o">(</span><span class="n">PreparedStatement</span> <span class="n">pstmt</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="na">prepareStatement</span><span class="o">(</span><span class="n">requeteAjoutProduit</span><span class="o">))</span> <span class="o">{</span>
    <span class="n">pstmt</span><span class="o">.</span><span class="na">setString</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="n">factureId</span><span class="o">);</span>
    <span class="n">pstmt</span><span class="o">.</span><span class="na">setString</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="n">produitId</span><span class="o">);</span>
    <span class="n">pstmt</span><span class="o">.</span><span class="na">setLong</span><span class="o">(</span><span class="mi">3</span><span class="o">,</span> <span class="n">quantite</span><span class="o">);</span>

    <span class="n">pstmt</span><span class="o">.</span><span class="na">executeUpdate</span><span class="o">();</span>
  <span class="o">}</span>

  <span class="c1">// on déstocke la quantité de produit qui a été ajoutée dans la facture</span>
  <span class="n">String</span> <span class="n">requeteDestockeProduit</span> <span class="o">=</span>
            <span class="s">&quot;update stock_produit set quantite = (quantite - ?) where produit_id = ?&quot;</span><span class="o">;</span>

  <span class="k">try</span> <span class="o">(</span><span class="n">PreparedStatement</span> <span class="n">pstmt</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="na">prepareStatement</span><span class="o">(</span><span class="n">requeteDestockeProduit</span><span class="o">))</span> <span class="o">{</span>
    <span class="n">pstmt</span><span class="o">.</span><span class="na">setLong</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="n">quantite</span><span class="o">);</span>
    <span class="n">pstmt</span><span class="o">.</span><span class="na">setString</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="n">produitId</span><span class="o">);</span>

    <span class="n">pstmt</span><span class="o">.</span><span class="na">executeUpdate</span><span class="o">();</span>
  <span class="o">}</span>

  <span class="n">transactionOk</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
<span class="o">}</span>
<span class="k">finally</span> <span class="o">{</span>
  <span class="c1">// L&#39;utilisation d&#39;une transaction dans cet exemple permet d&#39;éviter d&#39;aboutir à</span>
  <span class="c1">// des états incohérents si un problème survient pendant l&#39;exécution du code.</span>
  <span class="c1">// Par exemple, si le code ne parvient pas à exécuter la seconde requête SQL</span>
  <span class="c1">// (bug logiciel, perte de la connexion avec la base de données, ...) alors</span>
  <span class="c1">// une quantité d&#39;un produit aura été ajoutée dans une facture sans avoir été</span>
  <span class="c1">// déstockée. Ceci est clairement un état incohérent du système. Dans ce cas,</span>
  <span class="c1">// on effectue un rollback de la transaction pour annuler l&#39;insertion dans</span>
  <span class="c1">// la table ligne_facture.</span>
  <span class="k">if</span> <span class="o">(</span><span class="n">transactionOk</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">connection</span><span class="o">.</span><span class="na">commit</span><span class="o">();</span>
  <span class="o">}</span>
  <span class="k">else</span> <span class="o">{</span>
    <span class="n">connection</span><span class="o">.</span><span class="na">rollback</span><span class="o">();</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table></div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="jdbc_webapp.html" class="btn btn-neutral float-right" title="JDBC dans une application Web" accesskey="n" rel="next">Suivant <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../java_swing/swing_notions_avancees.html" class="btn btn-neutral float-left" title="Swing : notions avancées" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Précédent</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright David Gayerie - david.gayerie at epsi.fr - CC-BY-SA

    </p>
  </div>
    <div>Téléchargez ce support au format <a class="reference download" href="https://github.com/spoonless/udev-2018/archive/gh-pages.zip">HTML</a>
    </div>


</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script>

  
  
    
   

</body>
</html>